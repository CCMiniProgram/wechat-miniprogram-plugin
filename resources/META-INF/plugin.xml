<idea-plugin>
    <id>com.zxy.ijplugin.wechat-miniprogram</id>
    <name>Wechat mini program support</name>
    <vendor email="15200948109@163.com" url="https://gitee.com/">My Gitee</vendor>

    <description>微信小程序支持，wxml、wxss、wxs三种文件支持，语法解析，代码完成，快速创建文件</description>

    <depends>com.intellij.modules.lang</depends>
    <depends>JavaScript</depends>
    <depends>com.intellij.css</depends>
    <version>1.0.0</version>
    <idea-version since-build="182.711"/>

    <actions>
        <action class="com.zxy.ijplugin.wechat_miniprogram.action.CreateWechatMiniProgramPageAction"
                id="CreateWechatMiniProgramPageAction"
                text="Create Wechat Mini Program Page"
                description="Create wechat mini program page (wxml js css json)">
            <add-to-group group-id="NewGroup" anchor="first"/>
        </action>
        <action id="com.zxy.ijplugin.wechat_miniprogram.action.CreateWechatMiniProgramComponentAction"
                class="com.zxy.ijplugin.wechat_miniprogram.action.CreateWechatMiniProgramComponentAction"
                text="Create Wechat Mini Program Component"
                description="Create wechat mini program component (wxml,js,json,wxss)">
            <add-to-group group-id="NewGroup" anchor="first"/>
        </action>

    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <gotoRelatedProvider
                implementation="com.zxy.ijplugin.wechat_miniprogram.navigation.WechatMiniProgramGotoRelatedProvider"/>

        <internalFileTemplate name="Wechat mini program page js file(Component API)"/>
        <internalFileTemplate name="Wechat mini program page json file(Component API)"/>
        <internalFileTemplate name="Wechat mini program page js file(Page API)"/>
        <internalFileTemplate name="Wechat mini program page json file(Page API)"/>
        <internalFileTemplate name="Wechat mini program component js file"/>
        <internalFileTemplate name="Wechat mini program component json file"/>

        <renamePsiElementProcessor
                implementation="com.zxy.ijplugin.wechat_miniprogram.reference.refactoring.WXMLClassRenamePsiElementProcessor"/>
        <!--        <renameHandler implementation="com.zxy.ijplugin.wechat_miniprogram.rename.WXSSIdRenameHandler"/>-->
        <referencesSearch implementation="com.zxy.ijplugin.wechat_miniprogram.reference.usage.WXSSElementSearcher"/>


        <fileType name="WXSS" fieldName="INSTANCE" extensions="wxss" language="WXSS"
                  implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.WXSSFileType"/>
        <lang.parserDefinition language="WXSS"
                               implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.parser.WXSSParserDefinition"/>
        <lang.syntaxHighlighterFactory language="WXSS"
                                       implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.WXSSSyntaxHighlighterFactory"/>
        <colorSettingsPage implementation="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.WXSSColorSettingPage"/>
        <colorProvider
                implementation="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.line_mark.WXSSElementColorProvider"/>
        <gotoSymbolContributor
                implementation="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.WXSSIdChooseByNameContributor"/>
        <gotoSymbolContributor
                implementation="com.zxy.ijplugin.wechat_miniprogram.navigation.WXSSClassChooseByNameContributor"/>
        <lang.commenter language="WXSS"
                        implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.WXSSCommenter"/>
        <lang.braceMatcher language="WXSS"
                           implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.WXSSBraceMatcher"/>
        <quoteHandler fileType="WXSS" className="com.zxy.ijplugin.wechat_miniprogram.editor.WXSSDoubleQuoteHandler"/>
        <lang.formatter language="WXSS"
                        implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.formatter.WXSSFormattingModelBuilder"/>
        <completion.contributor language="WXSS"
                                implementationClass="com.zxy.ijplugin.wechat_miniprogram.completion.WXSSCompletionContributor"/>
        <lang.refactoringSupport language="WXSS"
                                 implementationClass="com.zxy.ijplugin.wechat_miniprogram.reference.refactoring.WXSSSelectorRefactoring"/>
        <lang.namesValidator language="WXSS"
                             implementationClass="com.zxy.ijplugin.wechat_miniprogram.reference.validator.WXSSNamesValidator"/>
        <lang.findUsagesProvider language="WXSS"
                                 implementationClass="com.zxy.ijplugin.wechat_miniprogram.reference.usage.WXSSFindUsageProvider"/>
        <psi.referenceContributor
                implementation="com.zxy.ijplugin.wechat_miniprogram.reference.WXSSReferenceContributor"/>
        <lang.elementManipulator forClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxss.psi.WXSSClassSelector"
                                 implementationClass="com.zxy.ijplugin.wechat_miniprogram.reference.manipulator.WXMLClassSelectorManipulator"/>

        <fileType name="WXML" extensions="wxml" language="WXML"
                  implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxml.WXMLFileType"
                  fieldName="INSTANCE"/>
        <lang.parserDefinition language="WXML"
                               implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxml.parser.WXMLParserDefinition"/>
        <lang.syntaxHighlighterFactory
                language="WXML"
                implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxml.WXMLSyntaxHighlighterFactory"/>
        <colorSettingsPage implementation="com.zxy.ijplugin.wechat_miniprogram.lang.wxml.WXMLColorSettingPage"/>
        <typedHandler implementation="com.zxy.ijplugin.wechat_miniprogram.editor.WXMLTagCloseTypedHandler"/>
        <completion.contributor
                implementationClass="com.zxy.ijplugin.wechat_miniprogram.completion.WXMLCompletionContributor"
                language="WXML"/>
        <editorFactoryListener implementation="com.zxy.ijplugin.wechat_miniprogram.editor.WXMLTagNameSynchronizer"/>
        <lang.foldingBuilder language="WXML"
                             implementationClass="com.zxy.ijplugin.wechat_miniprogram.folding.WXMLTagPairFoldingBuilder"/>
        <breadcrumbsInfoProvider
                implementation="com.zxy.ijplugin.wechat_miniprogram.breadcrumbs.WXMLElementBreadcrumbsProvider"/>
        <lang.formatter language="WXML"
                        implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxml.formatter.WXMLFormattingModelBuilder"/>
        <extendWordSelectionHandler
                implementation="com.zxy.ijplugin.wechat_miniprogram.editor.WXMLStartTagSelectioner"/>
        <extendWordSelectionHandler implementation="com.zxy.ijplugin.wechat_miniprogram.editor.WXMLEndTagSelectioner"/>
        <highlightingPassFactory
                implementation="com.zxy.ijplugin.wechat_miniprogram.editor.WXMLTagTreeHighlightingPassFactory"/>
        <braceMatcher filetype="WXML"
                      implementationClass="com.zxy.ijplugin.wechat_miniprogram.editor.WXMLBraceMatcher"/>
        <colorProvider
                implementation="com.zxy.ijplugin.wechat_miniprogram.lang.wxml.line_mark.WXMLElementColorProvider"/>
        <psi.referenceContributor
                implementation="com.zxy.ijplugin.wechat_miniprogram.reference.WXMLReferenceContributor"/>
        <lang.elementManipulator forClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxml.psi.WXMLStringText"
                                 implementationClass="com.zxy.ijplugin.wechat_miniprogram.reference.manipulator.WXMLStringTextManipulator"/>
        <multiHostInjector implementation="com.zxy.ijplugin.wechat_miniprogram.lang.wxml.WxmlJSInjector"/>
        <include.provider
                implementation="com.zxy.ijplugin.wechat_miniprogram.reference.WxmlJsModuleFileIncludeProvider"/>

        <fileType name="WXS" fieldName="INSTANCE" extensions="wxs" language="JavaScript 1.5"
                  implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.wxs.WXSFileType"/>

        <lang.parserDefinition language="WxmlJs"
                               implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.expr.parser.WxmlJsParserDefinition"/>
        <lang.syntaxHighlighterFactory language="WxmlJs"
                                       implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.expr.highlighting.WxmlJsHighlighterFactory"/>

        <psi.referenceContributor
                implementation="com.zxy.ijplugin.wechat_miniprogram.reference.WechatMiniProgramJSONReferenceContributor"/>
    </extensions>

    <extensions defaultExtensionNs="JavaScript">
        <predefinedLibraryProvider
                implementation="com.zxy.ijplugin.wechat_miniprogram.context.MyJSPredefinedLibraryProvider"/>
        <JsonSchema.ProviderFactory
                implementation="com.zxy.ijplugin.wechat_miniprogram.completion.WechatMiniProgramJsonSchemaProviderFactory"/>
        <dialectSpecificHandlersFactory language="WxmlJs"
                                        implementationClass="com.zxy.ijplugin.wechat_miniprogram.lang.expr.WxmlJsSpecificHandlersFactory"/>
        <intentionAndInspectionFilter language="WXML"
                                      implementationClass="com.zxy.ijplugin.wechat_miniprogram.inspections.WxmlJsInspectionFilter"/>
        <elementScopeProvider
                implementation="com.zxy.ijplugin.wechat_miniprogram.reference.WXMLElementResolveScopeProvider"/>
    </extensions>

</idea-plugin>